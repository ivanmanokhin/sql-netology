## Итоговая работа по модулю "SQL и получение данных"
- [Задание 1](#task-1)  
- [Задание 2](#task-2)  
- [Задание 3](#task-3)  
- [Задание 4](#task-4)  
- [Задание 5](#task-5)  

### <a name="task-1"></a> Задание 1: используемый тип подключения  
В работе использовался локальный тип подключения. База данных была развернута из файла avia.backup.  
Скриншот успешного импорта данных:  
![Скриншот импорта](https://user-images.githubusercontent.com/105848432/169804661-e817f17c-93dc-4251-bddb-1d1770e65304.png)

### <a name="task-2"></a> Задание 2: ER-диаграмма  
Скриншот ER-диаграммы из DBeaver`a:  
![Скриншот ER-диаграмма](https://user-images.githubusercontent.com/105848432/169804877-c3d61b8d-e8eb-4c13-ad68-9cf4df306b95.png)

### <a name="task-3"></a> Задание 3: краткое описания базы данных  
База данных состоит из:  
   * 8 таблиц: aircrafts, airports, boarding_passes, bookings, flights, seats, ticket_flights, tickets
   * 1 представления: flights_v
   * 1 материализованного представления: routes

### <a name="task-4"></a> Задание 4: развернутый анализ базы данных  
**Описание схемы:**  
Предметная область базы данных - авиаперевозки.  
Основной сущностью является бронирование (bookings).  
В одно бронирование можно включить несколько пассажиров, каждому из которых выписывается отдельный билет (tickets). Билет имеет уникальный номер и содержит  информацию о пассажире. Как таковой пассажир не является отдельной сущностью. Как имя,  так и номер документа пассажира могут меняться с течением времени, так что невозможно  однозначно найти все билеты одного человека; для простоты можно считать, что все пассажиры уникальны.  
Билет включает один или несколько перелетов (ticket_flights). Несколько перелетов могут включаться в билет в случаях, когда нет нет прямого рейса, соединяющего пункты отправления и назначения (полет с пересадками), либо когда билет взят «туда и обратно». В схеме данных нет жесткого ограничения, но предполагается, что все билеты в одном бронировании имеют одинаковый набор перелетов.  
Каждый рейс (flights) следует из одного аэропорта (airports) в другой. Рейсы с одним номером имеют одинаковые пункты вылета и назначения, но будут отличаться датой отправления.  
При регистрации на рейс пассажиру выдается посадочный талон (boarding_passes), в котором указано место в самолете. Пассажир может зарегистрироваться только на тот рейс, который есть у него в билете. Комбинация рейса и места в самолете должна быть уникальной, чтобы не допустить выдачу двух посадочных талонов на одно место.  
Количество мест (seats) в самолете и их распределение по классам обслуживания зависит от модели самолета (aircrafts), выполняющего рейс. Предполагается, что каждая модель самолета имеет только одну компоновку салона. Схема данных не контролирует, что места в посадочных талонах соответствуют имеющимся в самолете (такая проверка может быть сделана с использованием табличных триггеров или в приложении).  
